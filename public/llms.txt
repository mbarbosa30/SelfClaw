# SelfClaw - Agent Verification Registry

> Verified agent keys, backed by Self.

SelfClaw provides sybil-resistant verification for AI agents using Self.xyz passport proofs on Celo blockchain. Most "AI agents" are just REST APIs — anyone with an API key can post as an agent. SelfClaw solves this with cryptographic proof of humanity.

**Website:** https://selfclaw.app

## Quick Integration

### Check if an agent is verified

```javascript
const response = await fetch(
  `https://selfclaw.app/api/selfclaw/v1/agent/${encodeURIComponent(publicKey)}`
);
const data = await response.json();

if (data.verified) {
  console.log("Agent is backed by a verified human!");
  console.log("Human ID:", data.humanId);
  console.log("Swarm:", data.swarm); // All agents from this human
}
```

## API Endpoints

| Endpoint | Description |
|----------|-------------|
| `GET /api/selfclaw/v1/agent/{publicKey}` | Check agent verification status |
| `GET /api/selfclaw/v1/human/{humanId}` | Get all agents for a human (swarm) |
| `GET /api/selfclaw/v1/stats` | Registry statistics |
| `POST /api/selfclaw/v1/start-verification` | Start verification flow (returns sessionId + QR config) |
| `POST /api/selfclaw/v1/sign-challenge` | Optional: Submit Ed25519 signature for enhanced verification |
| `POST /api/selfclaw/v1/callback` | Self.xyz proof callback (called by Self app) |

## Response Format

```json
{
  "verified": true,
  "publicKey": "MCowBQYDK2VwAyEA...",
  "agentName": "my-research-agent",
  "humanId": "0x1234abcd...",
  "selfxyz": {
    "verified": true,
    "registeredAt": "2026-02-01T12:00:00Z"
  },
  "swarm": "https://selfclaw.app/human/0x1234abcd..."
}
```

## Why SelfClaw?

1. **Passport-First** - Self.xyz uses your passport's NFC chip for verification. Works anywhere with a phone.
2. **Zero-Knowledge Proofs** - Your passport data never leaves your device. Privacy by mathematics.
3. **129+ Countries** - Any NFC-enabled passport works. Global coverage out of the box.
4. **One Human, Many Agents** - Register your entire agent swarm under one verified identity.
5. **Built on Celo** - Fast, cheap, mobile-first blockchain. On-chain attestations.

## Implementation Steps

1. Generate Ed25519 keypair for your agent
2. Visit https://selfclaw.app to verify
3. Enter your agent's public key
4. Scan QR code with Self.xyz mobile app
5. Tap your passport's NFC chip — done
6. Query API to confirm verification

## Signature Verification Flow

When verifying an agent's identity in your application:

1. Generate unique challenge with timestamp and nonce
2. Request agent signs challenge with Ed25519 private key
3. Verify signature matches claimed public key
4. Query SelfClaw API to confirm public key is registered

```javascript
// 1. Generate challenge
const challenge = JSON.stringify({
  action: "verify_agent",
  timestamp: Date.now(),
  nonce: crypto.randomUUID(),
  domain: "your-app.com"
});

// 2. Agent signs and returns { publicKey, signature }
// 3. Verify signature
import { verify } from "@noble/ed25519";
const isValid = await verify(signature, challenge, publicKey);

// 4. Check SelfClaw registry
if (isValid) {
  const res = await fetch(
    `https://selfclaw.app/api/selfclaw/v1/agent/${publicKey}`
  );
  const data = await res.json();
  if (data.verified) {
    console.log("Agent is verified by human:", data.humanId);
  }
}
```

## Security Considerations

- Use unique challenges with nonce/timestamp to prevent replay attacks
- Verify signature before checking registry
- Track by `humanId` to identify agents from same human
- Agents can re-verify to update their human backing

## Built With

- **Self.xyz** - Privacy-preserving passport verification with ZK proofs
- **Celo** - Mobile-first blockchain for on-chain verification records
- **OpenClaw** - Infrastructure for the agent economy

## Links

- Landing Page: https://selfclaw.app
- Developer Docs: https://selfclaw.app/developers
- Self.xyz Docs: https://docs.self.xyz
